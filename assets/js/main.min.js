var common={skills:{Photoshop:[8,2],"HTML (5)":[7,3],Javascript:[4,6],"D3.js":[2,8],Illustrator:[3,7],CSS:[7,3],JQuery:[5,5],Sass:[2,8]}},behaviours=function(){var a=function(){b(),c()},b=function(){$("#projects_wrapper li").on("mouseenter","a",function(){$(this).removeClass("close").addClass("open")}).on("mouseleave","a",function(){$(this).removeClass("open").addClass("close")})},c=function(){$("header li a, .next_section").click(function(){var a=$(this).attr("href");return d(a),!1})},d=function(a){var b=$(a);$("html,body").animate({scrollTop:b.offset().top},1e3)};return{init:a,scrollToAnchor:d}}(),parallax=function(){var a,b,c=function(){d(),$.stellar(),a=document.getElementById("portfolio").clientHeight,b=$("#first, #second"),b.stellar()},d=function(){var a=$(window).width()/3.5*2,b=a/3.5*2;$(".break_wrapper").height(b)},e=function(){$.stellar("destroy")};return{init:c,resize:d,destory:e}}(),pieChart=function(){var a=150,b=150,c=Math.min(a,b)/2,d=function(a){$.each(a.skills,function(a,b){e(a,b)})},e=function(d,e){{var f=d3.scale.linear().range(["#fff","#666"]),g=d3.layout.pie().sort(null),h=d3.svg.arc().innerRadius(c-15).outerRadius(c-30),i=d3.select("#skills").append("svg").attr("width",a).attr("height",b).append("g").attr("transform","translate("+a/2+","+b/2+")");i.selectAll("path").data(g(e)).enter().append("path").attr("fill",function(a,b){return f(b)}).attr("d",h),i.append("text").text(d).attr("text-anchor","middle").attr("transform","translate(0, -5)"),i.append("text").data(e).attr("class","years").text(function(a){return a}).attr("text-anchor","middle").attr("transform","translate(0, 25)")}};return{init:d}}(),project=function(){var a,b,c=function(){b=$("#projects_wrapper"),b.find("li a").on("click",function(){if("codepen"!==this.parentNode.id){a&&a.find("button").unbind("click");var b=this.parentNode.id;return d(b),!1}return!0})},d=function(a){$.get("projects/index.php?project="+a,function(a){callback(a)})};return loading=function(){},callback=function(c){a=$("div#single_project_wrapper"),projDiv=a.find("div#single_project"),behaviours.scrollToAnchor("#portfolio"),projDiv.empty(),projDiv.html(c),b.fadeOut("fast",function(){a.fadeIn("fast"),a.find(".fancybox").fancybox(),parallax.destory(),parallax.init(),restore()})},restore=function(){a.find("#back").click(function(){a.fadeOut("fast",function(){b.fadeIn("fast"),parallax.destory(),parallax.init(),a.find(".fancybox").unbind("click.fb-start")})})},{init:c}}();$(document).ready(function(){behaviours.init(),project.init(),pieChart.init(common),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||parallax.init(),$(window).resize(function(){parallax.destory(),parallax.resize(),parallax.init()})});